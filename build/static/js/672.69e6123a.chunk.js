"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[672],{4672:function(t,s,e){e.r(s),e.d(s,{default:function(){return q}});var n=e(5671),r=e(3144),i=e(136),u=e(516),o=e(2791),a=e(4353),p=e(9439),c=e(184);var l=function(t){var s=(0,o.useState)(!1),e=(0,p.Z)(s,2),n=e[0],r=e[1],i=(0,o.useState)(t.status),u=(0,p.Z)(i,2),a=u[0],l=u[1];return(0,o.useEffect)((function(){a!==t.status&&l(t.status)}),[t.status]),(0,c.jsx)("div",{children:n?(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a})}):(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){r(!0)},children:a||"-----"})})})};var d=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"https://e1.pxfuel.com/desktop-wallpaper/197/736/desktop-wallpaper-hot-girls-ultra-wide-women.jpg",alt:"content img"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:s.photos.large?s.photos.large:a,alt:"ava"})}),(0,c.jsx)(l,{status:e,updateStatus:n})]})]}):(0,c.jsx)(c.Fragment,{})},f="Post_item__7eztW";var h=function(t){return(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)("img",{src:"https://www.shutterstock.com/image-photo/young-beautiful-girl-driving-car-260nw-1154053897.jpg",alt:"post img"}),t.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["Like ",t.likeCount]})})]})},j=e(6139),g=e(704),v=e(8610),x=e(3143),m=(0,v.B)(20),Z=function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)(j.Z,{name:"newPostText",component:x.g,validate:[v.C,m]}),(0,c.jsx)("button",{type:"submit",children:"Add post"})]})};Z=(0,g.Z)({form:"NewPostForm"})(Z);var k=function(t){var s=t.posts,e=t.addPost,n=s.map((function(t){return(0,c.jsx)(h,{id:t.id,message:t.message,likeCount:t.likesCount})}));return(0,c.jsxs)("div",{children:["My posts",(0,c.jsx)(Z,{onSubmit:function(t){e(t.newPostText)}}),(0,c.jsx)("div",{children:n})]})},P=e(1182),S=e(8687),w=function(t){return t.profilePage.profile},C=function(t){return t.profilePage.posts},b=function(t){return t.profilePage.isProfileFetching},F=function(t){return t.profilePage.status},y=(0,S.$j)((function(t){return{posts:C(t)}}),{addPost:P.q2})(k);var U=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return(0,c.jsxs)("div",{children:[(0,c.jsx)(d,{profile:s,status:e,updateStatus:n}),(0,c.jsx)(y,{})]})},_=e(3227),A=e(1413),T=e(7689);var z=function(t){return function(s){var e=(0,T.TH)(),n=(0,T.s0)(),r=(0,T.UO)();return(0,c.jsx)(t,(0,A.Z)((0,A.Z)({},s),{},{router:{location:e,navigate:n,params:r}}))}},D=e(2291),I=e(7781),N=e(1688),$=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userID;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,c.jsx)(c.Fragment,{children:this.props.isProfileFetching?(0,c.jsx)(_.Z,{}):(0,c.jsx)(U,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(o.Component),q=(0,I.qC)(D.Z,(0,S.$j)((function(t){return{profile:w(t),isProfileFetching:b(t),status:F(t),authorizedUserId:(0,N.n5)(t)}}),{getUserProfile:P.et,getStatus:P.lR,updateStatus:P.Nf}),z)($)},2291:function(t,s,e){var n=e(1413),r=e(5671),i=e(3144),u=e(136),o=e(516),a=e(2791),p=e(7689),c=e(8687),l=e(184),d=function(t){return{isAuth:t.auth.isAuth}};s.Z=function(t){var s=function(s){(0,u.Z)(a,s);var e=(0,o.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,n.Z)({},this.props)):(0,l.jsx)(p.Fg,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(d)(s)}}}]);
//# sourceMappingURL=672.69e6123a.chunk.js.map